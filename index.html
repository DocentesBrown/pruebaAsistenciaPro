<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Asistencia de Estudiantes</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#24496e" />

    <!-- SheetJS -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" crossorigin></script>

    <style>
      :root{
        --azul:#24496e;
        --crema:#f3efdc;
        --violeta:#6c467e;
        --salmon:#da6863;
      }
      body{ background:var(--crema); }
    </style>

    <!-- CONFIG: poné tus credenciales reales acá -->
    <script>
      window.GAPI_CONFIG = {
        apiKey: 'TU_API_KEY',
        clientId: 'TU_CLIENT_ID.apps.googleusercontent.com',
        discoveryDocs: [
          'https://sheets.googleapis.com/$discovery/rest?version=v4',
          'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'
        ],
        scope: 'https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets'
      };
      window._gapiReady = false;
      window._gisReady = false;
      window.tokenClient = null;

      function gapiLoaded(){
        gapi.load('client', async () => {
          try{
            await gapi.client.init({
              apiKey: GAPI_CONFIG.apiKey,
              discoveryDocs: GAPI_CONFIG.discoveryDocs
            });
            window._gapiReady = true;
          }catch(e){
            console.warn('gapi init error', e);
          }
        });
      }
      function gisLoaded(){
        try{
          window.tokenClient = google.accounts.oauth2.initTokenClient({
            client_id: GAPI_CONFIG.clientId,
            scope: GAPI_CONFIG.scope,
            callback: () => {}
          });
          window._gisReady = true;
        }catch(e){ console.warn('gis init error', e); }
      }
    </script>
    <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
    <script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
  </head>
  <body class="min-h-dvh text-slate-900">
    <div id="root"></div>

    <!-- React 18 -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>

    <script src="app.js"></script>

    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js').catch(()=>{});
      }
    </script>

    <footer class="p-6 md:p-8 text-sm text-slate-700">
      <div class="max-w-3xl mx-auto space-y-3">
        <h3 class="text-base md:text-lg font-semibold" style="color:var(--azul)">¿Cómo instalar en el celular?</h3>
        <ol class="list-decimal ml-5 space-y-1">
          <li>En Android/Chrome: Menú ⋮ → <em>Agregar a la pantalla principal</em>.</li>
          <li>En iOS/Safari: Compartir → <em>Añadir a inicio</em>.</li>
        </ol>
        <div class="mt-8 text-center">
          <a href="https://cafecito.app/docentesbrown" target="_blank" rel="noopener"
             class="inline-block px-5 py-3 rounded-2xl text-white font-semibold shadow"
             style="background:var(--salmon)">
            ☕ Bancanos con un cafecito
          </a>
        </div>
      </div>
    </footer>
  </body>
</html>
