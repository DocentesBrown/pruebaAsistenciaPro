<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Asistencia de Estudiantes</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#24496e" />
    <!-- SheetJS para .xlsx -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" crossorigin></script>

    <style>
      :root{
        --azul:#24496e;   /* header / primario */
        --crema:#f3efdc;  /* fondo */
        --violeta:#6c467e;/* acentos */
        --salmon:#da6863; /* CTA cafecito */
      }
    </style>

    <!-- Google APIs (Drive + Sheets) -->
    <script>
      // ðŸ‘‰ ReemplazÃ¡ con TUS credenciales (GCP â†’ APIs & Services â†’ Credentials)
      window.GAPI_CONFIG = {
        apiKey:    'TU_API_KEY',
        clientId:  'TU_CLIENT_ID.apps.googleusercontent.com',
        discoveryDocs: [
          'https://sheets.googleapis.com/$discovery/rest?version=v4',
          'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'
        ],
        scope: 'https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets'
      };
      function initGapiClient(){
        if (!window.gapi || !window.GAPI_CONFIG) return;
        gapi.load('client:auth2', async () => {
          try{
            await gapi.client.init({
              apiKey: GAPI_CONFIG.apiKey,
              clientId: GAPI_CONFIG.clientId,
              discoveryDocs: GAPI_CONFIG.discoveryDocs,
              scope: GAPI_CONFIG.scope
            });
          }catch(_){}
        });
      }
    </script>
    <script async defer src="https://apis.google.com/js/api.js" onload="initGapiClient()"></script>
  </head>
  <body class="min-h-dvh text-slate-900" style="background:var(--crema);">
    <div id="root"></div>

    <!-- React 18 + ReactDOM UMD (sin JSX) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>

    <script src="app.js"></script>

    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js').catch(()=>{});
      }
    </script>

    <footer id="ayuda" class="p-6 md:p-8 text-sm text-slate-700">
      <div class="max-w-3xl mx-auto space-y-3">
        <h3 class="text-base md:text-lg font-semibold" style="color:var(--azul)">Â¿CÃ³mo instalar en el celular?</h3>
        <ol class="list-decimal ml-5 space-y-1">
          <li>En Android/Chrome: MenÃº â‹® â†’ <em>Agregar a la pantalla principal</em>.</li>
          <li>En iOS/Safari: Compartir â†’ <em>AÃ±adir a inicio</em>.</li>
        </ol>

        <details class="mt-6 bg-white rounded-xl border p-4">
          <summary class="cursor-pointer font-semibold" style="color:var(--violeta)">Pruebas integradas</summary>
          <div id="tests-output" class="mt-3 text-sm"></div>
        </details>

        <div class="mt-8 text-center">
          <a href="https://cafecito.app/docentesbrown" target="_blank" rel="noopener"
             class="inline-block px-5 py-3 rounded-2xl text-white font-semibold shadow"
             style="background:var(--salmon)">
            â˜• Bancanos con un cafecito
          </a>
        </div>
      </div>
    </footer>
  </body>
</html>
